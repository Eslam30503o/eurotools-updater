# ğŸ—ï¸ Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ - Ø¯Ù„ÙŠÙ„ Ø´Ø§Ù…Ù„

Ø¯Ù„ÙŠÙ„ Ù…ÙØµÙ„ Ù„Ø¨Ù†ÙŠØ© Euro Tools Code Manager ÙˆØªØµÙ…ÙŠÙ…Ù‡ Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠ.

## ğŸ¯ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ù†ÙŠØ©

Euro Tools Code Manager Ù…Ø¨Ù†ÙŠ Ø¹Ù„Ù‰ Ø¨Ù†ÙŠØ© Ù…Ø¹ÙŠØ§Ø±ÙŠØ© Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªÙˆØ³Ø¹ ØªØªØ¨Ø¹ Ù…Ø¨Ø§Ø¯Ø¦ Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø­Ø¯ÙŠØ«Ø©.

## ğŸ“ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø©

### Ù†Ù…Ø· MVC (Model-View-Controller)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Euro Tools Architecture                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚    View     â”‚â—„â”€â”€â–ºâ”‚ Controller  â”‚â—„â”€â”€â–ºâ”‚    Model    â”‚     â”‚
â”‚  â”‚             â”‚    â”‚             â”‚    â”‚             â”‚     â”‚
â”‚  â”‚ UI Manager  â”‚    â”‚ App Logic   â”‚    â”‚ Data Managerâ”‚     â”‚
â”‚  â”‚ Components  â”‚    â”‚ Handlers    â”‚    â”‚ Database    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚         â”‚                   â”‚                   â”‚          â”‚
â”‚         â–¼                   â–¼                   â–¼          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   Widgets   â”‚    â”‚  Services   â”‚    â”‚   Storage   â”‚     â”‚
â”‚  â”‚  Dialogs    â”‚    â”‚ Validators  â”‚    â”‚    Sync     â”‚     â”‚
â”‚  â”‚  Screens    â”‚    â”‚ Utilities   â”‚    â”‚   Backup    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ø§Ù„Ø·Ø¨Ù‚Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

#### 1. Ø·Ø¨Ù‚Ø© Ø§Ù„Ø¹Ø±Ø¶ (Presentation Layer)
```python
# ui/ - ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
â”œâ”€â”€ ui_manager.py          # Ù…Ø¯ÙŠØ± Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
â”œâ”€â”€ login_screen.py        # Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
â”œâ”€â”€ products_ui.py         # ÙˆØ§Ø¬Ù‡Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
â”œâ”€â”€ lists_ui.py            # ÙˆØ§Ø¬Ù‡Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…
â”œâ”€â”€ new_tool.py            # Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© Ø£Ø¯Ø§Ø©
â”œâ”€â”€ edit_tool.py           # Ù†Ù…ÙˆØ°Ø¬ ØªØ­Ø±ÙŠØ± Ø§Ù„Ø£Ø¯ÙˆØ§Øª
â”œâ”€â”€ export_excel.py        # ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„ØªØµØ¯ÙŠØ±
â”œâ”€â”€ printer.py             # Ù†Ø¸Ø§Ù… Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©
â”œâ”€â”€ settings_ui.py         # ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
â””â”€â”€ history_screen.py      # Ø´Ø§Ø´Ø© Ø§Ù„Ø³Ø¬Ù„
```

#### 2. Ø·Ø¨Ù‚Ø© Ø§Ù„Ù…Ù†Ø·Ù‚ (Business Logic Layer)
```python
# Core Business Logic
â”œâ”€â”€ app.py                 # Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
â”œâ”€â”€ data_manager.py        # Ù…Ù†Ø·Ù‚ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
â”œâ”€â”€ categories.py          # Ù…Ù†Ø·Ù‚ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª
â”œâ”€â”€ google_users.py        # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
â”œâ”€â”€ performance_optimizer.py # ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡
â””â”€â”€ update_checker.py      # ÙØ­Øµ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª
```

#### 3. Ø·Ø¨Ù‚Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Data Layer)
```python
# sync/ - Ø·Ø¨Ù‚Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© ÙˆØ§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
â”œâ”€â”€ manager.py             # Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
â”œâ”€â”€ google_init.py         # ØªÙ‡ÙŠØ¦Ø© Google Sheets
â”œâ”€â”€ history_manager.py     # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ø¬Ù„
â”œâ”€â”€ lock_manager.py        # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù‚ÙØ§Ù„
â”œâ”€â”€ sync_products.py       # Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
â”œâ”€â”€ sync_lists.py          # Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…
â””â”€â”€ utils.py               # Ø£Ø¯ÙˆØ§Øª Ù…Ø³Ø§Ø¹Ø¯Ø©
```

## ğŸ”§ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

### 1. Ù…Ø¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Data Manager)

#### Ø§Ù„Ù‡ÙŠÙƒÙ„ ÙˆØ§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ§Øª
```python
class DataManager:
    """
    Ù…Ø¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ - ÙŠØªÙˆÙ„Ù‰ Ø¬Ù…ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    
    Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ§Øª:
    - ØªØ­Ù…ÙŠÙ„ ÙˆØ­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    - Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
    - ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡
    """
    
    def __init__(self):
        self.tools_file = "data/tools.json"
        self.lists_file = "data/lists.json"
        self.users_file = "data/users.json"
        self.cache = {}
        
    # Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
    def load_tools(self) -> List[Dict]
    def save_tools(self, tools: List[Dict]) -> bool
    def add_tool(self, tool: Dict) -> str
    def update_tool(self, tool_id: str, updates: Dict) -> bool
    def delete_tool(self, tool_id: str) -> bool
    
    # Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ÙÙ„ØªØ±Ø©
    def search_tools(self, query: str, filters: Dict) -> List[Dict]
    def filter_by_category(self, category: str) -> List[Dict]
    def get_tools_by_status(self, status: str) -> List[Dict]
    
    # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡
    def optimize_data(self) -> None
    def clear_cache(self) -> None
    def get_statistics(self) -> Dict
```

#### ØªØ¯ÙÙ‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
```
ğŸ“Š ØªØ¯ÙÙ‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ DataManager:

1. Ø§Ù„ØªØ­Ù…ÙŠÙ„ (Loading):
   File System â†’ JSON Parser â†’ Validation â†’ Cache â†’ Application

2. Ø§Ù„Ø­ÙØ¸ (Saving):
   Application â†’ Validation â†’ JSON Serializer â†’ Backup â†’ File System

3. Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© (Sync):
   Local Data â†” Sync Manager â†” Google Sheets â†” Cloud Storage
```

### 2. Ù…Ø¯ÙŠØ± Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© (UI Manager)

#### Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù‡Ø±Ù…ÙŠØ©
```python
class UIManager:
    """
    Ù…Ø¯ÙŠØ± Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ - ÙŠÙ†Ø³Ù‚ Ø¬Ù…ÙŠØ¹ Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
    
    Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ§Øª:
    - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†ÙˆØ§ÙØ° ÙˆØ§Ù„Ø­ÙˆØ§Ø±Ø§Øª
    - ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
    - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¸Ø§Ù‡Ø± ÙˆØ§Ù„Ø«ÙŠÙ…Ø§Øª
    - Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„ØªÙ†Ù‚Ù„
    """
    
    def __init__(self, root):
        self.root = root
        self.current_screen = None
        self.theme_manager = ThemeManager()
        self.event_dispatcher = EventDispatcher()
        
    # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´Ø§Ø´Ø§Øª
    def show_screen(self, screen_name: str, **kwargs) -> None
    def hide_screen(self, screen_name: str) -> None
    def switch_screen(self, from_screen: str, to_screen: str) -> None
    
    # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
    def bind_event(self, event: str, handler: Callable) -> None
    def trigger_event(self, event: str, data: Dict) -> None
    
    # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¸Ù‡Ø±
    def set_theme(self, theme_name: str) -> None
    def update_colors(self, color_scheme: Dict) -> None
```

#### Ù†Ù…Ø· Ø§Ù„Ø£Ø­Ø¯Ø§Ø« (Event Pattern)
```python
# Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ
class EventDispatcher:
    """
    Ù…ÙˆØ²Ø¹ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« - ÙŠØ¯ÙŠØ± Ø§Ù„ØªÙˆØ§ØµÙ„ Ø¨ÙŠÙ† Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª
    """
    
    events = {
        'tool_added': [],
        'tool_updated': [],
        'tool_deleted': [],
        'list_created': [],
        'sync_started': [],
        'sync_completed': [],
        'user_login': [],
        'user_logout': []
    }
    
    @staticmethod
    def subscribe(event: str, callback: Callable):
        """Ø§Ø´ØªØ±Ø§Ùƒ ÙÙŠ Ø­Ø¯Ø« Ù…Ø¹ÙŠÙ†"""
        if event in EventDispatcher.events:
            EventDispatcher.events[event].append(callback)
    
    @staticmethod
    def publish(event: str, data: Dict = None):
        """Ù†Ø´Ø± Ø­Ø¯Ø« Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ†"""
        if event in EventDispatcher.events:
            for callback in EventDispatcher.events[event]:
                callback(data)
```

### 3. Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© (Sync Manager)

#### Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø¹ÙŠØ§Ø±ÙŠØ©
```python
class SyncManager:
    """
    Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© - ÙŠØªÙˆÙ„Ù‰ Ø¬Ù…ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠØ©
    
    Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ§Øª:
    - Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¹ Google Sheets
    - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª
    - Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
    - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù‚ÙØ§Ù„
    """
    
    def __init__(self):
        self.google_client = GoogleSheetsClient()
        self.lock_manager = LockManager()
        self.history_manager = HistoryManager()
        self.conflict_resolver = ConflictResolver()
        
    # Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
    async def sync_tools(self) -> SyncResult
    async def sync_lists(self) -> SyncResult
    async def sync_users(self) -> SyncResult
    
    # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª
    def detect_conflicts(self, local_data, remote_data) -> List[Conflict]
    def resolve_conflict(self, conflict: Conflict, resolution: str) -> bool
    
    # Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
    def start_auto_sync(self, interval: int) -> None
    def stop_auto_sync(self) -> None
```

#### Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
```python
# Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ù…Ø®ØªÙ„ÙØ© Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø©
class SyncStrategy:
    """Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©"""
    
    def sync(self, local_data, remote_data):
        raise NotImplementedError

class LastWriteWinsStrategy(SyncStrategy):
    """Ø¢Ø®Ø± ÙƒØªØ§Ø¨Ø© ØªÙÙˆØ²"""
    
    def sync(self, local_data, remote_data):
        if local_data.timestamp > remote_data.timestamp:
            return local_data
        return remote_data

class MergeStrategy(SyncStrategy):
    """Ø¯Ù…Ø¬ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª"""
    
    def sync(self, local_data, remote_data):
        merged = {}
        # Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¯Ù…Ø¬ Ø§Ù„Ù…Ø¹Ù‚Ø¯
        return merged

class ManualResolveStrategy(SyncStrategy):
    """Ø­Ù„ ÙŠØ¯ÙˆÙŠ Ù„Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª"""
    
    def sync(self, local_data, remote_data):
        # Ø¹Ø±Ø¶ ÙˆØ§Ø¬Ù‡Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ø­Ù„ Ø§Ù„ØªØ¹Ø§Ø±Ø¶
        return self.show_conflict_dialog(local_data, remote_data)
```

## ğŸ”„ Ø£Ù†Ù…Ø§Ø· Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©

### 1. Ù†Ù…Ø· Singleton

#### ØªØ·Ø¨ÙŠÙ‚ ÙÙŠ Ù…Ø¯ÙŠØ± Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
```python
class ConfigManager:
    """
    Ù…Ø¯ÙŠØ± Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª - Ù†Ù…Ø· Singleton
    ÙŠØ¶Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù†Ø³Ø®Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø· Ù…Ù† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
    """
    
    _instance = None
    _config = None
    
    def __new__(cls):
        if cls._instance is None:
            cls._instance = super().__new__(cls)
        return cls._instance
    
    def __init__(self):
        if self._config is None:
            self._config = self.load_config()
    
    def get(self, key: str, default=None):
        return self._config.get(key, default)
    
    def set(self, key: str, value):
        self._config[key] = value
        self.save_config()
    
    def load_config(self) -> Dict:
        """ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ù† Ø§Ù„Ù…Ù„Ù"""
        try:
            with open('config.json', 'r', encoding='utf-8') as f:
                return json.load(f)
        except FileNotFoundError:
            return self.get_default_config()
    
    def save_config(self) -> None:
        """Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙÙŠ Ø§Ù„Ù…Ù„Ù"""
        with open('config.json', 'w', encoding='utf-8') as f:
            json.dump(self._config, f, ensure_ascii=False, indent=2)
```

### 2. Ù†Ù…Ø· Observer

#### ØªØ·Ø¨ÙŠÙ‚ ÙÙŠ Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
```python
class NotificationCenter:
    """
    Ù…Ø±ÙƒØ² Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª - Ù†Ù…Ø· Observer
    ÙŠØ¯ÙŠØ± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙˆØ§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    """
    
    def __init__(self):
        self.observers = {}
    
    def subscribe(self, event_type: str, observer: Callable):
        """Ø§Ø´ØªØ±Ø§Ùƒ ÙÙŠ Ù†ÙˆØ¹ Ø¥Ø´Ø¹Ø§Ø± Ù…Ø¹ÙŠÙ†"""
        if event_type not in self.observers:
            self.observers[event_type] = []
        self.observers[event_type].append(observer)
    
    def unsubscribe(self, event_type: str, observer: Callable):
        """Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ"""
        if event_type in self.observers:
            self.observers[event_type].remove(observer)
    
    def notify(self, event_type: str, data: Dict):
        """Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ†"""
        if event_type in self.observers:
            for observer in self.observers[event_type]:
                observer(data)

# Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
notification_center = NotificationCenter()

def on_tool_added(data):
    print(f"ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø£Ø¯Ø§Ø© Ø¬Ø¯ÙŠØ¯Ø©: {data['tool_name']}")

def on_sync_completed(data):
    print(f"ØªÙ…Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø¨Ù†Ø¬Ø§Ø­: {data['items_synced']} Ø¹Ù†ØµØ±")

# Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ ÙÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
notification_center.subscribe('tool_added', on_tool_added)
notification_center.subscribe('sync_completed', on_sync_completed)
```

### 3. Ù†Ù…Ø· Factory

#### ØªØ·Ø¨ÙŠÙ‚ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª
```python
class UIComponentFactory:
    """
    Ù…ØµÙ†Ø¹ Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© - Ù†Ù…Ø· Factory
    ÙŠÙ†Ø´Ø¦ Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
    """
    
    @staticmethod
    def create_dialog(dialog_type: str, parent, **kwargs):
        """Ø¥Ù†Ø´Ø§Ø¡ Ø­ÙˆØ§Ø± Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹"""
        
        if dialog_type == 'add_tool':
            return AddToolDialog(parent, **kwargs)
        elif dialog_type == 'edit_tool':
            return EditToolDialog(parent, **kwargs)
        elif dialog_type == 'confirm':
            return ConfirmDialog(parent, **kwargs)
        elif dialog_type == 'error':
            return ErrorDialog(parent, **kwargs)
        elif dialog_type == 'progress':
            return ProgressDialog(parent, **kwargs)
        else:
            raise ValueError(f"Ù†ÙˆØ¹ Ø§Ù„Ø­ÙˆØ§Ø± ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…: {dialog_type}")
    
    @staticmethod
    def create_screen(screen_type: str, parent, **kwargs):
        """Ø¥Ù†Ø´Ø§Ø¡ Ø´Ø§Ø´Ø© Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹"""
        
        screens = {
            'login': LoginScreen,
            'main': MainScreen,
            'tools': ToolsScreen,
            'lists': ListsScreen,
            'settings': SettingsScreen,
            'reports': ReportsScreen
        }
        
        if screen_type in screens:
            return screens[screen_type](parent, **kwargs)
        else:
            raise ValueError(f"Ù†ÙˆØ¹ Ø§Ù„Ø´Ø§Ø´Ø© ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…: {screen_type}")
```

### 4. Ù†Ù…Ø· Command

#### ØªØ·Ø¨ÙŠÙ‚ ÙÙŠ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ±Ø§Ø¬Ø¹ ÙˆØ§Ù„Ø¥Ø¹Ø§Ø¯Ø©
```python
class Command:
    """Ø§Ù„Ø£Ù…Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ"""
    
    def execute(self):
        raise NotImplementedError
    
    def undo(self):
        raise NotImplementedError

class AddToolCommand(Command):
    """Ø£Ù…Ø± Ø¥Ø¶Ø§ÙØ© Ø£Ø¯Ø§Ø©"""
    
    def __init__(self, data_manager, tool_data):
        self.data_manager = data_manager
        self.tool_data = tool_data
        self.tool_id = None
    
    def execute(self):
        self.tool_id = self.data_manager.add_tool(self.tool_data)
        return self.tool_id
    
    def undo(self):
        if self.tool_id:
            self.data_manager.delete_tool(self.tool_id)

class UpdateToolCommand(Command):
    """Ø£Ù…Ø± ØªØ­Ø¯ÙŠØ« Ø£Ø¯Ø§Ø©"""
    
    def __init__(self, data_manager, tool_id, new_data):
        self.data_manager = data_manager
        self.tool_id = tool_id
        self.new_data = new_data
        self.old_data = None
    
    def execute(self):
        self.old_data = self.data_manager.get_tool(self.tool_id)
        self.data_manager.update_tool(self.tool_id, self.new_data)
    
    def undo(self):
        if self.old_data:
            self.data_manager.update_tool(self.tool_id, self.old_data)

class CommandManager:
    """Ù…Ø¯ÙŠØ± Ø§Ù„Ø£ÙˆØ§Ù…Ø± - ÙŠØ¯ÙŠØ± Ø§Ù„ØªØ±Ø§Ø¬Ø¹ ÙˆØ§Ù„Ø¥Ø¹Ø§Ø¯Ø©"""
    
    def __init__(self):
        self.history = []
        self.current_index = -1
    
    def execute_command(self, command: Command):
        """ØªÙ†ÙÙŠØ° Ø£Ù…Ø± ÙˆØ¥Ø¶Ø§ÙØªÙ‡ Ù„Ù„Ø³Ø¬Ù„"""
        result = command.execute()
        
        # Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
        self.history = self.history[:self.current_index + 1]
        
        # Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ù…Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯
        self.history.append(command)
        self.current_index += 1
        
        return result
    
    def undo(self):
        """Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ø¢Ø®Ø± Ø£Ù…Ø±"""
        if self.can_undo():
            command = self.history[self.current_index]
            command.undo()
            self.current_index -= 1
    
    def redo(self):
        """Ø¥Ø¹Ø§Ø¯Ø© ØªÙ†ÙÙŠØ° Ø§Ù„Ø£Ù…Ø±"""
        if self.can_redo():
            self.current_index += 1
            command = self.history[self.current_index]
            command.execute()
    
    def can_undo(self) -> bool:
        return self.current_index >= 0
    
    def can_redo(self) -> bool:
        return self.current_index < len(self.history) - 1
```

## ğŸ“Š Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„ØªØ®Ø²ÙŠÙ†

### Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

#### Ù…Ù„ÙØ§Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
```json
// tools.json - Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø¯ÙˆØ§Øª
{
  "tools": [
    {
      "id": "CT-0001",
      "name": "Ù…Ø«Ù‚Ø§Ø¨ ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ 18V",
      "description": "Ù…Ø«Ù‚Ø§Ø¨ ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ Ù‚ÙˆÙŠ Ù…Ø¹ Ø¨Ø·Ø§Ø±ÙŠØ© Ù„ÙŠØ«ÙŠÙˆÙ…",
      "category": "Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù‚Ø·Ø¹",
      "subcategory": "Ù…Ø«Ø§Ù‚Ø¨",
      "quantity": 5,
      "unit": "Ù‚Ø·Ø¹Ø©",
      "price": 450.00,
      "location": "Ø§Ù„Ù…Ø®Ø²Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ - Ø±Ù A3",
      "status": "Ù…ØªØ§Ø­",
      "purchase_date": "2024-01-15",
      "warranty_period": "Ø³Ù†ØªØ§Ù†",
      "supplier": "Ø´Ø±ÙƒØ© Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©",
      "model_number": "DRL-18V-PRO",
      "serial_number": "SN123456789",
      "notes": "ÙŠØ­ØªØ§Ø¬ ØµÙŠØ§Ù†Ø© Ø¯ÙˆØ±ÙŠØ© ÙƒÙ„ 6 Ø£Ø´Ù‡Ø±",
      "created_at": "2024-01-15T10:30:00Z",
      "updated_at": "2024-12-18T14:25:00Z",
      "created_by": "admin",
      "updated_by": "ahmed"
    }
  ],
  "metadata": {
    "version": "4.5.0",
    "last_backup": "2024-12-18T12:00:00Z",
    "total_tools": 1247,
    "last_sync": "2024-12-18T14:27:00Z"
  }
}
```

```json
// lists.json - Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹
{
  "lists": [
    {
      "id": "LIST-001",
      "name": "ØµÙŠØ§Ù†Ø© Ø®Ø· Ø§Ù„Ø¥Ù†ØªØ§Ø¬ A",
      "description": "ØµÙŠØ§Ù†Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ø®Ø· Ø§Ù„Ø¥Ù†ØªØ§Ø¬ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ",
      "type": "ØµÙŠØ§Ù†Ø©",
      "status": "Ù†Ø´Ø·",
      "priority": "Ø¹Ø§Ù„ÙŠØ©",
      "start_date": "2024-12-20",
      "end_date": "2024-12-25",
      "manager": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",
      "team": ["Ø³Ø§Ø±Ø© Ø£Ø­Ù…Ø¯", "Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ"],
      "supervisor": "Ù…Ù‡Ù†Ø¯Ø³ Ø®Ø§Ù„Ø¯",
      "budget": 15000.00,
      "location": "Ø§Ù„Ù…ØµÙ†Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ - Ø®Ø· A",
      "tools": [
        {
          "tool_id": "CT-0001",
          "quantity_needed": 2,
          "assigned_to": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",
          "start_date": "2024-12-20",
          "duration_days": 3,
          "status": "Ù…Ø­Ø¬ÙˆØ²",
          "notes": "Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ ØµÙŠØ§Ù†Ø© Ø§Ù„Ù…Ø­Ø±ÙƒØ§Øª"
        }
      ],
      "progress": 80,
      "created_at": "2024-12-15T09:00:00Z",
      "updated_at": "2024-12-18T14:30:00Z"
    }
  ]
}
```

### Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©

#### Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
```python
class BackupManager:
    """
    Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© - ÙŠØ¯ÙŠØ± Ø¬Ù…ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ
    """
    
    def __init__(self):
        self.backup_dir = Path("backups")
        self.backup_dir.mkdir(exist_ok=True)
        
        # Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
        self.backup_types = {
            'daily': {'retention': 7, 'schedule': '23:59'},
            'weekly': {'retention': 4, 'schedule': 'sunday 23:59'},
            'monthly': {'retention': 12, 'schedule': 'last_day 23:59'}
        }
    
    def create_backup(self, backup_type: str = 'manual') -> str:
        """Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©"""
        
        timestamp = datetime.now().strftime('%Y%m%d_%H%M%S')
        backup_name = f"{backup_type}_{timestamp}"
        backup_path = self.backup_dir / backup_name
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
        backup_path.mkdir(exist_ok=True)
        
        # Ù†Ø³Ø® Ù…Ù„ÙØ§Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        data_files = [
            'tools.json',
            'lists.json', 
            'users.json',
            'settings.json'
        ]
        
        for file_name in data_files:
            source = Path(file_name)
            if source.exists():
                destination = backup_path / file_name
                shutil.copy2(source, destination)
        
        # Ø¶ØºØ· Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
        archive_path = f"{backup_path}.zip"
        with zipfile.ZipFile(archive_path, 'w', zipfile.ZIP_DEFLATED) as zipf:
            for file_path in backup_path.rglob('*'):
                if file_path.is_file():
                    zipf.write(file_path, file_path.relative_to(backup_path))
        
        # Ø­Ø°Ù Ø§Ù„Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù…Ø¤Ù‚Øª
        shutil.rmtree(backup_path)
        
        # ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
        self.cleanup_old_backups(backup_type)
        
        return archive_path
    
    def restore_backup(self, backup_path: str) -> bool:
        """Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©"""
        
        try:
            # Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            current_backup = self.create_backup('pre_restore')
            
            # Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
            with zipfile.ZipFile(backup_path, 'r') as zipf:
                zipf.extractall('temp_restore')
            
            # Ù†Ø³Ø® Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø³ØªØ¹Ø§Ø¯Ø©
            restore_dir = Path('temp_restore')
            for file_path in restore_dir.rglob('*.json'):
                destination = Path(file_path.name)
                shutil.copy2(file_path, destination)
            
            # ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø¤Ù‚ØªØ©
            shutil.rmtree(restore_dir)
            
            return True
            
        except Exception as e:
            print(f"Ø®Ø·Ø£ ÙÙŠ Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©: {e}")
            return False
    
    def cleanup_old_backups(self, backup_type: str) -> None:
        """ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©"""
        
        if backup_type not in self.backup_types:
            return
        
        retention = self.backup_types[backup_type]['retention']
        pattern = f"{backup_type}_*.zip"
        
        # Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ø³Ø® Ù…Ù† Ù‡Ø°Ø§ Ø§Ù„Ù†ÙˆØ¹
        backups = list(self.backup_dir.glob(pattern))
        
        # ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡
        backups.sort(key=lambda x: x.stat().st_mtime, reverse=True)
        
        # Ø­Ø°Ù Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø²Ø§Ø¦Ø¯Ø©
        for backup in backups[retention:]:
            backup.unlink()
```

## ğŸ” Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø­Ù…Ø§ÙŠØ©

### ØªØ´ÙÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

#### Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ÙÙŠØ±
```python
from cryptography.fernet import Fernet
from cryptography.hazmat.primitives import hashes
from cryptography.hazmat.primitives.kdf.pbkdf2 import PBKDF2HMAC
import base64
import os

class SecurityManager:
    """
    Ù…Ø¯ÙŠØ± Ø§Ù„Ø£Ù…Ø§Ù† - ÙŠØªÙˆÙ„Ù‰ ØªØ´ÙÙŠØ± ÙˆØ­Ù…Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø©
    """
    
    def __init__(self):
        self.key_file = "security.key"
        self.salt_file = "security.salt"
        self._key = None
        self._fernet = None
    
    def generate_key(self, password: str) -> None:
        """ØªÙˆÙ„ÙŠØ¯ Ù…ÙØªØ§Ø­ Ø§Ù„ØªØ´ÙÙŠØ± Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"""
        
        # ØªÙˆÙ„ÙŠØ¯ Ø£Ùˆ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ø­
        if os.path.exists(self.salt_file):
            with open(self.salt_file, 'rb') as f:
                salt = f.read()
        else:
            salt = os.urandom(16)
            with open(self.salt_file, 'wb') as f:
                f.write(salt)
        
        # ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…ÙØªØ§Ø­
        kdf = PBKDF2HMAC(
            algorithm=hashes.SHA256(),
            length=32,
            salt=salt,
            iterations=100000,
        )
        
        key = base64.urlsafe_b64encode(kdf.derive(password.encode()))
        self._key = key
        self._fernet = Fernet(key)
        
        # Ø­ÙØ¸ Ø§Ù„Ù…ÙØªØ§Ø­ (Ù…Ø´ÙØ±)
        with open(self.key_file, 'wb') as f:
            f.write(key)
    
    def encrypt_data(self, data: str) -> str:
        """ØªØ´ÙÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"""
        if not self._fernet:
            raise ValueError("Ù„Ù… ÙŠØªÙ… ØªÙ‡ÙŠØ¦Ø© Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ÙÙŠØ±")
        
        encrypted = self._fernet.encrypt(data.encode())
        return base64.urlsafe_b64encode(encrypted).decode()
    
    def decrypt_data(self, encrypted_data: str) -> str:
        """ÙÙƒ ØªØ´ÙÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"""
        if not self._fernet:
            raise ValueError("Ù„Ù… ÙŠØªÙ… ØªÙ‡ÙŠØ¦Ø© Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ÙÙŠØ±")
        
        encrypted_bytes = base64.urlsafe_b64decode(encrypted_data.encode())
        decrypted = self._fernet.decrypt(encrypted_bytes)
        return decrypted.decode()
    
    def encrypt_file(self, file_path: str) -> None:
        """ØªØ´ÙÙŠØ± Ù…Ù„Ù ÙƒØ§Ù…Ù„"""
        with open(file_path, 'rb') as f:
            data = f.read()
        
        encrypted_data = self._fernet.encrypt(data)
        
        with open(f"{file_path}.encrypted", 'wb') as f:
            f.write(encrypted_data)
    
    def decrypt_file(self, encrypted_file_path: str, output_path: str) -> None:
        """ÙÙƒ ØªØ´ÙÙŠØ± Ù…Ù„Ù"""
        with open(encrypted_file_path, 'rb') as f:
            encrypted_data = f.read()
        
        decrypted_data = self._fernet.decrypt(encrypted_data)
        
        with open(output_path, 'wb') as f:
            f.write(decrypted_data)
```

### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª

#### Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø¯ÙˆØ§Ø±
```python
from enum import Enum
from passlib.hash import bcrypt

class UserRole(Enum):
    """Ø£Ø¯ÙˆØ§Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"""
    ADMIN = "admin"
    EDITOR = "editor"
    VIEWER = "viewer"
    GUEST = "guest"

class Permission(Enum):
    """Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©"""
    READ_TOOLS = "read_tools"
    WRITE_TOOLS = "write_tools"
    DELETE_TOOLS = "delete_tools"
    READ_LISTS = "read_lists"
    WRITE_LISTS = "write_lists"
    DELETE_LISTS = "delete_lists"
    MANAGE_USERS = "manage_users"
    MANAGE_SETTINGS = "manage_settings"
    EXPORT_DATA = "export_data"
    SYNC_DATA = "sync_data"

class UserManager:
    """
    Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† - ÙŠØ¯ÙŠØ± Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ÙˆØ§Ù„ØªØ®ÙˆÙŠÙ„
    """
    
    # ØªØ¹Ø±ÙŠÙ ØµÙ„Ø§Ø­ÙŠØ§Øª ÙƒÙ„ Ø¯ÙˆØ±
    ROLE_PERMISSIONS = {
        UserRole.ADMIN: [p for p in Permission],  # Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
        UserRole.EDITOR: [
            Permission.READ_TOOLS, Permission.WRITE_TOOLS,
            Permission.READ_LISTS, Permission.WRITE_LISTS,
            Permission.EXPORT_DATA, Permission.SYNC_DATA
        ],
        UserRole.VIEWER: [
            Permission.READ_TOOLS, Permission.READ_LISTS,
            Permission.EXPORT_DATA
        ],
        UserRole.GUEST: [
            Permission.READ_TOOLS, Permission.READ_LISTS
        ]
    }
    
    def __init__(self):
        self.users_file = "users.json"
        self.current_user = None
        self.security_manager = SecurityManager()
    
    def create_user(self, username: str, password: str, email: str, 
                   role: UserRole) -> bool:
        """Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯"""
        
        users = self.load_users()
        
        # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        if any(user['username'] == username for user in users):
            return False
        
        # ØªØ´ÙÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        hashed_password = bcrypt.hash(password)
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        new_user = {
            'id': self.generate_user_id(),
            'username': username,
            'password': hashed_password,
            'email': email,
            'role': role.value,
            'created_at': datetime.now().isoformat(),
            'last_login': None,
            'is_active': True,
            'failed_login_attempts': 0,
            'locked_until': None
        }
        
        users.append(new_user)
        self.save_users(users)
        
        return True
    
    def authenticate(self, username: str, password: str) -> bool:
        """Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"""
        
        users = self.load_users()
        user = next((u for u in users if u['username'] == username), None)
        
        if not user:
            return False
        
        # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ù‚ÙÙ„
        if user.get('locked_until'):
            lock_time = datetime.fromisoformat(user['locked_until'])
            if datetime.now() < lock_time:
                return False
        
        # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        if bcrypt.verify(password, user['password']):
            # Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„ÙØ§Ø´Ù„Ø©
            user['failed_login_attempts'] = 0
            user['last_login'] = datetime.now().isoformat()
            user['locked_until'] = None
            
            self.current_user = user
            self.save_users(users)
            
            return True
        else:
            # Ø²ÙŠØ§Ø¯Ø© Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„ÙØ§Ø´Ù„Ø©
            user['failed_login_attempts'] += 1
            
            # Ù‚ÙÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ø¹Ø¯ 5 Ù…Ø­Ø§ÙˆÙ„Ø§Øª ÙØ§Ø´Ù„Ø©
            if user['failed_login_attempts'] >= 5:
                lock_duration = timedelta(minutes=30)
                user['locked_until'] = (datetime.now() + lock_duration).isoformat()
            
            self.save_users(users)
            return False
    
    def has_permission(self, permission: Permission) -> bool:
        """Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ"""
        
        if not self.current_user:
            return False
        
        user_role = UserRole(self.current_user['role'])
        return permission in self.ROLE_PERMISSIONS.get(user_role, [])
    
    def require_permission(self, permission: Permission):
        """Ø¯ÙŠÙƒÙˆØ±ÙŠØªØ± Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª"""
        
        def decorator(func):
            def wrapper(*args, **kwargs):
                if not self.has_permission(permission):
                    raise PermissionError(f"Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ©: {permission.value}")
                return func(*args, **kwargs)
            return wrapper
        return decorator
```

---

**Ø§Ù„ØªØ§Ù„ÙŠ**: [Ø£Ù†Ù…Ø§Ø· Ø§Ù„ØªØµÙ…ÙŠÙ…](design-patterns.md)